diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x slpd.log -x slpd.pid origsrc/openslp-1.2.1/common/Makefile.am src/openslp-1.2.1/common/Makefile.am
--- origsrc/openslp-1.2.1/common/Makefile.am	2005-02-07 23:33:21.000000000 -0600
+++ src/openslp-1.2.1/common/Makefile.am	2007-10-29 12:25:47.911154400 -0500
@@ -21,6 +21,7 @@
 	slp_xmalloc.c \
 	slp_xcast.c \
 	slp_iface.c \
+	slp_net.c \
 	slp_parse.c \
 	slp_pid.c \
 	slp_dhcp.c \
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x slpd.log -x slpd.pid origsrc/openslp-1.2.1/common/slp_dhcp.c src/openslp-1.2.1/common/slp_dhcp.c
--- origsrc/openslp-1.2.1/common/slp_dhcp.c	2005-03-02 11:00:31.000000000 -0600
+++ src/openslp-1.2.1/common/slp_dhcp.c	2007-10-29 11:57:21.859656600 -0500
@@ -65,7 +65,9 @@
 #include <sys/types.h>
 #include <sys/socket.h>
 #include <sys/ioctl.h>
+#ifndef __CYGWIN__
 #include <net/if_arp.h>
+#endif
 #include <sys/time.h>
 #endif
 
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x slpd.log -x slpd.pid origsrc/openslp-1.2.1/libslp/Makefile.am src/openslp-1.2.1/libslp/Makefile.am
--- origsrc/openslp-1.2.1/libslp/Makefile.am	2005-02-25 18:24:22.000000000 -0600
+++ src/openslp-1.2.1/libslp/Makefile.am	2007-10-29 12:14:25.288673300 -0500
@@ -29,4 +29,4 @@
 #libslp_la_LIBADD = -L../common/libcommonlibslp
 libslp_la_LIBADD = ../common/libcommonlibslp.la
 
-libslp_la_LDFLAGS = -version-info 1:1:0
+libslp_la_LDFLAGS = -version-info 1:1:0 -no-undefined
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x slpd.log -x slpd.pid origsrc/openslp-1.2.1/slpd/slpd_main.c src/openslp-1.2.1/slpd/slpd_main.c
--- origsrc/openslp-1.2.1/slpd/slpd_main.c	2005-02-08 17:24:53.000000000 -0600
+++ src/openslp-1.2.1/slpd/slpd_main.c	2007-10-29 12:38:17.245383200 -0500
@@ -484,6 +484,7 @@
         SLPDFatal("Invalid command line\n");
     }
 
+#ifndef __CYGWIN__
     /*------------------------------*/
     /* Make sure we are root        */
     /*------------------------------*/
@@ -491,6 +492,7 @@
     {
         SLPDFatal("slpd must be started by root\n");
     }
+#endif
 
     /*--------------------------------------*/
     /* Make sure we are not already running */
